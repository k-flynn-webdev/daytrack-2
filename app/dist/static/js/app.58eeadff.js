(function(t){function e(e){for(var r,s,o=e[0],u=e[1],c=e[2],l=0,m=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function s(t){return o.p+"static/js/"+({login:"login",register:"register",tag:"tag",tagListView:"tagListView",trackListView:"trackListView"}[t]||t)+"."+{login:"a49cf783",register:"0210cefc",tag:"9ad0b770",tagListView:"66a5aef1",trackListView:"c3c9d5e6"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=s(t);var c=new Error;i=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}a[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"41d4":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"icon",class:t.classItems,staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("path",{attrs:{d:"M100,68.887l50.205,-50.204l31.112,31.112l-50.204,50.205l50.204,50.205l-31.112,31.112l-50.205,-50.204l-50.205,50.204l-31.112,-31.112l50.204,-50.205l-50.204,-50.205l31.112,-31.112l50.205,50.204Z"}})])},a=[],i={name:"cross-icon",props:{classItems:{type:String,default:""}}},s=i,o=n("2877"),u=Object(o["a"])(s,r,a,!1,null,null,null);e["a"]=u.exports},4360:function(t,e,n){"use strict";var r=n("2b0e"),a=n("2f62"),i=n("5a50"),s=n("c0dc"),o=18e5;function u(){return{CSRF_requested_at:null}}var c={getCSRF:function(t){return t.state.CSRF_requested_at&&new Date-t.state.CSRF_requested_at<o?Promise.resolve(!0):s["a"].get(i["a"].API.GET).then((function(){return t.state.CSRF_requested_at=new Date,!0}))}},l={namespaced:!0,state:u(),actions:c},f=(n("28a5"),n("768b"));n("ffc1"),n("ac6a");function m(){return localStorage.getItem(i["h"].userLocal)}function d(t){t?localStorage.setItem(i["h"].userLocal,JSON.stringify(t)):p()}function p(){localStorage.removeItem(i["h"].userLocal)}var g={get:m,save:d,remove:p},h=12,v=function(){return{id:-1,email:null,name:"",first_name:null,last_name:null}};function b(){var t=g.get(),e=t?JSON.parse(t):v();return{user:e,isLoggedIn:!!e.email}}var w={login:function(t,e){t.isLoggedIn=!0,w.set(t,e)},logout:function(t){t.isLoggedIn=!1,w.set(t)},set:function(t,e){if(e){if(Object.entries(e).forEach((function(e){var n=Object(f["a"])(e,2),a=n[0],i=n[1];r["a"].set(t.user,a,i)})),e.email){var n=e.email.split("@")[0];n=n.length<h?n:n.slice(0,h-2)+"..",r["a"].set(t.user,"name",n)}g.save(t.user)}else g.remove()}},_={register:function(t,e){return s["a"].post(i["d"].API.POST,e).then((function(e){var n=e.data;return t.commit("login",n.results),n.results}))},login:function(t,e){return s["a"].post(i["b"].API.POST,e).then((function(e){var n=e.data;return t.commit("login",n.results),n.results}))},logout:function(t){return s["a"].remove(i["c"].API.DELETE).then((function(){return t.commit("logout",null),"blaaa"}))},get:function(t){return s["a"].get(i["g"].API.GET).then((function(e){var n=e.data;return t.commit("set",n.results),n.results}))},patch:function(t,e){return s["a"].patch("".concat(i["g"].API.PATCH,"/").concat(e.id),e).then((function(e){var n=e.data;t.commit("set",n.results)}))},remove:function(t){return s["a"].remove("".concat(i["g"].API.DELETE,"/").concat(t.state.user.id))}},k={namespaced:!0,state:b(),mutations:w,actions:_};function y(){return{trackList:[]}}var E={set:function(t,e){r["a"].set(t,"trackList",e)},post:function(t,e){t.trackList.unshift(e)},patch:function(t,e){for(var n=0;n<t.trackList.length;n++)if(t.trackList[n].id===e.id)return void r["a"].set(t.trackList,n,e)},remove:function(t,e){for(var n=0;n<t.trackList.length;n++)if(t.trackList[n].id===e.id)return void r["a"].delete(t.trackList,n)}},P={post:function(t,e){return s["a"].post(i["f"].API.POST,e).then((function(e){var n=e.data;return t.commit("post",n.results),n.results}))},patch:function(t,e){return s["a"].patch("".concat(i["f"].API.PATCH,"/").concat(e.id),e).then((function(e){var n=e.data;return t.commit("patch",n.results),n.results}))},remove:function(t,e){return s["a"].remove("".concat(i["f"].API.DELETE,"/").concat(e.id)).then((function(){return t.commit("remove",e),e}))},get:function(t,e){return s["a"].get(i["f"].API.GET,e).then((function(e){var n=e.data;return t.commit("set",n.results),n.results}))},getById:function(t,e){return s["a"].get("".concat(i["f"].API.GET,"/").concat(e.id)).then((function(t){var e=t.data;return e.results}))}},C={namespaced:!0,state:y(),mutations:E,actions:P};r["a"].use(a["a"]);var L={},T={};e["a"]=new a["a"].Store({state:{},getters:T,mutations:L,modules:{api:l,user:k,track:C}})},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mini-track p-1",attrs:{id:"app"}},[n("message"),n("section",{staticClass:"container"},[n("div",{staticClass:"level is-mobile mb-3"},[n("router-link",{staticClass:"title has-text-white level-item",attrs:{to:{name:"home"}}},[t._v("\n        "+t._s(t.$route.meta.title)+"\n      ")]),n("logout",{staticClass:"level-right"})],1),n("div",{staticClass:"columns is-centered"},[n("router-view")],1)]),n("page-footer")],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t.isLoggedIn?n("div",[n("span",{staticClass:"mr-2"},[t._v(t._s(t.userName))]),n("button",{staticClass:"button is-success is-smaller",on:{click:t.onSubmit}},[n("cross-icon",{attrs:{"class-items":"close"}})],1)]):n("router-link",{attrs:{to:{name:"login"}}},[t._v("\n    Login\n  ")])],1)},o=[],u=(n("7f7f"),n("5a50")),c=n("41d4"),l=n("8fbf"),f={name:"Logout",components:{crossIcon:c["a"]},mixins:[l["a"]],data:function(){return{loading:!1}},computed:{userName:function(){return this.$store.state[u["g"].store].user.name},isLoggedIn:function(){return this.$store.state[u["g"].store].isLoggedIn}},methods:{onSubmit:function(){var t=this;if(!this.loading)return this.loading=!0,this.$store.dispatch("api/getCSRF").then((function(){return t.$store.dispatch("user/logout")})).then((function(){return t.$router.push({name:"home"})})).catch((function(e){return t.handleError(e)})).finally((function(){return t.loading=!1}))}}},m=f,d=n("2877"),p=Object(d["a"])(m,s,o,!1,null,null,null),g=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"parent"},[n("div",{ref:"footer",staticClass:"is-flex has-text-white is-justify-content-center is-align-items-center",attrs:{id:"footer"}},[t._v("\n    Made with\n    "),n("svg",{staticClass:"px-2 icon med has-fill-white",attrs:{viewBox:"0 0 907 828"}},[n("path",{attrs:{d:"M730.084,312.85c4.226,113.133 -40.828,236.381 -79.883,320.702c-29.137,63.033 -92.165,103.467 -161.607,103.675c-58.148,0.184 -129.832,0.398 -188.066,0.573c-68.886,0.206 -131.752,-39.215 -161.569,-101.314c-43.597,-90.793 -96.522,-224.663 -88.059,-325.713"}}),n("path",{attrs:{d:"M710,410.13l137.329,0c0,0 27.947,188.444 -226.001,233.406"}})]),t._v("\n    by\n    "),n("a",{staticClass:"pl-2",attrs:{rel:"noreferrer",target:"_blank",href:"https://github.com/k-flynn-webdev"}},[t._v("\n      k-flynn-webdev\n    ")]),n("small",{staticClass:"is-hidden-mobile pl-2"},[t._v("\n      alpha "+t._s(t.version)+"\n    ")])])])},v=[],b={name:"PageFooter",computed:{version:function(){return"0.2.9"}},mounted:function(){document.body.appendChild(this.$refs.footer)},beforeDestroy:function(){document.body.removeChild(this.$refs.footer),this.$refs.parent.appendChild(this.$refs.footer)}},w=b,_=Object(d["a"])(w,h,v,!1,null,null,null),k=_.exports,y={name:"app",data:function(){return{title:"Tracks"}},components:{logout:g,pageFooter:k},mounted:function(){return this.$store.dispatch("api/getCSRF")},methods:{onTitle:function(t){this.title=t}}},E=y,P=Object(d["a"])(E,a,i,!1,null,null,null),C=P.exports,L=n("a18c"),T=n("4360"),I=(n("ac6a"),function(t,e){var n=new Date(t[e]),r=n.getDate(),a=n.getMonth()+1,i=n.getFullYear();return[r,a,i]}),S=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],O=function(t,e){var n=new Date(t[e]),r=n.getDate(),a=S[n.getMonth()];return[r,a]},$={name:"itemDate",filter:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return"";if(!t.created_at)return"";var a=[],i=I(t,"created_at");return e&&a.push(i[0]),n&&a.push(i[1]),r&&a.push(i[2]),a.join("/")}},A={name:"tagDate",filter:function(t){if(!t)return"";if(!t.created_at)return"";var e=O(t,"created_at");return"".concat(e[0]," ").concat(e[1])}},x=[A,$],j=function(t){x.forEach((function(e){return t.filter(e.name,e.filter)}))},D=(n("f4ff"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"message-holder",staticClass:"mini-track messages"},t._l(t.items,(function(e){return n("div",{key:e.id,staticClass:"mb-2"},[n("div",{staticClass:"message",class:e.class},[n("div",{staticClass:"message__row",class:{"pr-4":e.closeable}},[n("div",{staticClass:"message__row-content"},[t._v(t._s(e.message))]),e.closeable?n("div",{staticClass:"message__row-button",on:{click:function(n){return t.$message.remove(e)}}},[n("cross-icon",{attrs:{"class-items":"close"}})],1):t._e()])])])})),0)}),M=[],V={name:"message",components:{crossIcon:c["a"]},data:function(){return{items:[]}},computed:{messages:function(){return this.$message.items}},mounted:function(){this.$message.register(this.items),document.body.prepend(this.$el)},beforeDestroy:function(){this.$message.unregister(this.items),document.body.removeChild(this.$el)}},R=V,F=Object(d["a"])(R,D,M,!1,null,null,null),G=F.exports,N={items:[]},q=function(t){for(var e=0,n=0;n<t.length;++n)e=Math.imul(31,e)+t.charCodeAt(n)|0;return e},J=function(t){t.id=q(t.message),t.closeable=t.closeable||!0;for(var e=0;e<N.items.length;e++)if(N.items[e].id===t.id)return;N.items.push(t),t.timeDisplay>0&&setTimeout((function(){U(t)}),1e3*t.timeDisplay)},H=function(t){if(t.timeDelay>0){var e=t.timeDelay;return t.timeDelay=0,B(t,e)}J(t)},B=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setTimeout((function(){H(t)}),1e3*e+50)},U=function(t){for(var e=0,n=N.items.length;e<n;e++)if(N.items[e].id===t.id)return void N.items.splice(e,1)},X={install:function(t,e){t.component("message",G),t.prototype.$message=N,t.prototype.$message.add=H,t.prototype.$message.remove=U,t.prototype.$message.register=function(t){N.items=t},t.prototype.$message.unregister=function(t){N.items=[]}}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(X);var Y=X;n("85c3");r["a"].use(j),r["a"].use(Y),r["a"].use(l["b"]),r["a"].config.productionTip=!1,new r["a"]({router:L["a"],store:T["a"],render:function(t){return t(C)}}).$mount("#app")},"5a50":function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return m}));n("28a5");var r={name:"Minitrack",pageLimit:20,sort:{direction:[{name:"asc",value:1},{name:"desc",value:-1}],types:[{name:"created",value:"created_at"},{name:"updated",value:"updated_at"},{name:"done",value:"done_at"}]},userLocal:"user-local"},a={value:"csrf",API:{GET:"/api/csrf"}};function i(t){return t&&t.split("@").length>1&&t.split(".").length>1}function s(t){return t&&t.length>=8}var o={value:"login",route:{name:"login",path:"/login"},API:{POST:"/rest-auth/register"},isValid:function(t){return t&&t.email&&t.password&&i(t.email)&&s(t.password)}},u={value:"login",route:{name:"login",path:"/login"},API:{POST:"/rest-auth/login"},isValid:function(t){return t&&t.email&&t.password&&i(t.email)&&s(t.password)}},c={value:"logout",route:{name:"logout",path:"/logout"},API:{DELETE:"/rest-auth/logout"}},l={value:"user",store:"user",route:{name:"user",path:"/user"},API:{GET:"/rest-auth/user"}},f={value:"track",store:"track",route:{name:"track",path:"/track"},API:{GET:"/api/track",POST:"/api/track",PATCH:"/api/track",DELETE:"/api/track"},isValid:function(t){return t&&t.track&&t.track.length>=5},default:function(){return{id:-1,user:-1,value:"",tags:[],created_at:"",updated_at:""}}},m={value:"tag",store:"tag",route:{name:"tag",path:"/tag"},API:{GET:"/api/tag",POST:"/api/tag",PATCH:"/api/tag",DELETE:"/api/tag"},isValid:function(t){return t&&t.value&&t.value.length>=3},default:function(){return{id:-1,user:-1,value:"",created_at:""}}}},"85c3":function(t,e,n){},"8fbf":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n("ec41"),a={methods:{handleError:function(t){var e=Object(r["a"])(t,"response.data",t.message);throw this.$message.add({message:e.detail?e.detail:e,class:"is-error"}),t}}},i={install:function(t,e){var n=this;t.$handleErr=function(t){var e=Object(r["a"])(t,"response.data",t.message);throw n.$message.add({message:e.detail?e.detail:e,class:"is-error"}),t}}}},a18c:function(t,e,n){"use strict";var r=n("2b0e"),a=n("8c4f"),i=n("4360"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-11"},[t._v("\n  Enjoy, please sign up\n")])},o=[],u={name:"home"},c=u,l=n("2877"),f=Object(l["a"])(c,s,o,!1,null,null,null),m=f.exports,d=function(){return i["a"].state.user.isLoggedIn};r["a"].use(a["a"]);var p=[{path:"/",name:"home",meta:{title:"Mini-Tracks"},beforeEnter:function(t,e,n){d()&&n({name:"track"}),n()},component:m},{path:"/register",name:"register",meta:{title:"Register"},component:function(){return n.e("register").then(n.bind(null,"7803"))}},{path:"/login",name:"login",meta:{title:"Login"},component:function(){return n.e("login").then(n.bind(null,"dd7b"))}},{path:"/track",name:"track",meta:{title:"Mini-Tracks"},beforeEnter:function(t,e,n){d()||n({name:"home"}),n()},component:function(){return n.e("trackListView").then(n.bind(null,"a5aa"))}},{path:"/tag",name:"tag-list",meta:{title:"Mini-Tags"},beforeEnter:function(t,e,n){d()||n({name:"home"}),n()},component:function(){return n.e("tagListView").then(n.bind(null,"d5fe"))}},{path:"/tag/:tag",name:"tag",props:!0,meta:{title:"Mini-Tag"},beforeEnter:function(t,e,n){d()||n({name:"home"}),n()},component:function(){return n.e("tag").then(n.bind(null,"5223"))}}],g=new a["a"]({mode:"history",base:"/",routes:p});e["a"]=g},c0dc:function(t,e,n){"use strict";var r=n("a18c"),a=n("4360"),i=n("bc3a"),s=n.n(i),o=n("4328"),u=n.n(o);function c(t){}function l(){return a["a"].dispatch("user/logout").then((function(){return r["a"].push({name:"home"})}))}function f(t){return t}function m(t){throw t}function d(t,e){return s.a.get(t,e)}function p(t,e){return s.a.post(t,e)}function g(t,e){return s.a.put(t,e)}function h(t,e){return s.a.patch(t,e)}function v(t,e){return s.a.delete(t,e)}s.a.defaults.headers.common["Accept-Version"]="v1",s.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",s.a.defaults.xsrfHeaderName="X-CSRFToken",s.a.defaults.xsrfCookieName="csrftoken",s.a.defaults.paramsSerializer=function(t){return u.a.stringify(t,{encode:!1})},s.a.interceptors.response.use(f,m);var b={get:d,post:p,put:g,patch:h,remove:v,authSet:c,authRemove:l};e["a"]=b}});
//# sourceMappingURL=app.58eeadff.js.map