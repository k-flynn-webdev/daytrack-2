(function(t){function e(e){for(var r,i,u=e[0],s=e[1],c=e[2],l=0,d=[];l<u.length;l++)i=u[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},a={app:0},o=[];function i(t){return u.p+"static/js/"+({login:"login",register:"register",tag:"tag",tagListView:"tagListView",trackListView:"trackListView"}[t]||t)+"."+{login:"1dda41a9",register:"19cb0c0a",tag:"ccab2c9e",tagListView:"f2e3979d",trackListView:"71c27ffc"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=i(t);var c=new Error;o=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}a[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var f=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4360:function(t,e,n){"use strict";var r=n("2b0e"),a=n("2f62"),o=(n("28a5"),n("768b")),i=(n("ffc1"),n("ac6a"),n("5a50")),u=n("c0dc");function s(){return localStorage.getItem(i["h"].userLocal)}function c(t){t?localStorage.setItem(i["h"].userLocal,JSON.stringify(t)):l()}function l(){localStorage.removeItem(i["h"].userLocal)}var f={get:s,save:c,remove:l},d=12,m=function(){return{id:-1,email:null,name:"",first_name:null,last_name:null}};function g(){var t=f.get(),e=t?JSON.parse(t):m();return{user:e,isLoggedIn:!!e.email}}var p={login:function(t,e){t.isLoggedIn=!0,p.set(t,e)},logout:function(t){t.isLoggedIn=!1,p.set(t)},set:function(t,e){if(e){if(Object.entries(e).forEach((function(e){var n=Object(o["a"])(e,2),a=n[0],i=n[1];r["a"].set(t.user,a,i)})),e.email){var n=e.email.split("@")[0];n=n.length<d?n:n.slice(0,d-2)+"..",r["a"].set(t.user,"name",n)}f.save(t.user)}else f.remove()}},h={register:function(t,e){return u["a"].post(i["d"].API.POST,e).then((function(e){var n=e.data;return t.commit("login",n.results),n.results}))},login:function(t,e){return u["a"].post(i["b"].API.POST,e).then((function(e){var n=e.data;return t.commit("login",n.results),n.results}))},logout:function(t){return u["a"].remove(i["c"].API.DELETE).then((function(){return t.commit("logout",null),"blaaa"}))},get:function(t){return u["a"].get(i["g"].API.GET).then((function(e){var n=e.data;return t.commit("set",n.results),n.results}))},patch:function(t,e){return u["a"].patch("".concat(i["g"].API.PATCH,"/").concat(e.id),e).then((function(e){var n=e.data;t.commit("set",n.results)}))},remove:function(t){return u["a"].remove("".concat(i["g"].API.DELETE,"/").concat(t.state.user.id))}},v={namespaced:!0,state:g(),mutations:p,actions:h};function b(){return{trackList:[]}}var k={set:function(t,e){r["a"].set(t,"trackList",e)},post:function(t,e){t.trackList.unshift(e)},patch:function(t,e){for(var n=0;n<t.trackList.length;n++)if(t.trackList[n].id===e.id)return void r["a"].set(t.trackList,n,e)},remove:function(t,e){for(var n=0;n<t.trackList.length;n++)if(t.trackList[n].id===e.id)return void r["a"].delete(t.trackList,n)}},E={post:function(t,e){return u["a"].post(i["f"].API.POST,e).then((function(e){var n=e.data;return t.commit("post",n.results),n.results}))},patch:function(t,e){return u["a"].patch("".concat(i["f"].API.PATCH,"/").concat(e.id),e).then((function(e){var n=e.data;return t.commit("patch",n.results),n.results}))},remove:function(t,e){return u["a"].remove("".concat(i["f"].API.DELETE,"/").concat(e.id)).then((function(){return t.commit("remove",e),e}))},get:function(t,e){return u["a"].get(i["f"].API.GET,e).then((function(e){var n=e.data;return t.commit("set",n.results),n.results}))},getById:function(t,e){return u["a"].get("".concat(i["f"].API.GET,"/").concat(e.id)).then((function(t){var e=t.data;return e.results}))}},T={namespaced:!0,state:b(),mutations:k,actions:E};r["a"].use(a["a"]);var L={},_={};e["a"]=new a["a"].Store({state:{},getters:_,mutations:L,modules:{user:v,track:T}})},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mini-track p-1",attrs:{id:"app"}},[n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-11 columns is-mobile"},[n("navbar"),n("div",{staticClass:"title is-2 has-text-centered has-text-white column is-grow"},[t._v("\n          "+t._s(t.$route.meta.title)+"\n        ")]),n("logout")],1)]),n("div",{staticClass:"columns is-centered"},[n("router-view")],1)]),n("page-footer")],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"column is-narrow",attrs:{to:{name:"home"}}},[t._v("\n  Track\n")])},u=[],s={name:"Navbar"},c=s,l=n("2877"),f=Object(l["a"])(c,i,u,!1,null,null,null),d=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-narrow"},[t.isLoggedIn?n("div",[n("span",{staticClass:"mr-2"},[t._v(t._s(t.userName))]),n("button",{staticClass:"button is-success",on:{click:t.submit}},[t._v("\n      "+t._s(t.loading?"...":"Logout")+"\n    ")])]):n("router-link",{attrs:{to:{name:"login"}}},[t._v("\n    Login\n  ")])],1)},g=[],p=(n("7f7f"),n("5a50")),h=n("c0dc"),v={name:"Logout",data:function(){return{loading:!1}},created:function(){return this.getToken()},computed:{userName:function(){return this.$store.state[p["g"].store].user.name},isLoggedIn:function(){return this.$store.state[p["g"].store].isLoggedIn}},methods:{getToken:function(){return h["a"].get(p["a"].API.GET)},submit:function(){var t=this;if(!this.loading)return this.loading=!0,this.$store.dispatch("user/logout").then((function(){t.$router.push({name:"home"})})).catch((function(t){})).finally((function(){return t.loading=!1}))}}},b=v,k=Object(l["a"])(b,m,g,!1,null,null,null),E=k.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"parent"},[n("div",{ref:"footer",staticClass:"is-flex has-text-white is-justify-content-center is-align-items-center",attrs:{id:"footer"}},[t._v("\n    Made with\n    "),n("svg",{staticClass:"px-2 icon med has-fill-white",attrs:{viewBox:"0 0 907 828"}},[n("path",{attrs:{d:"M730.084,312.85c4.226,113.133 -40.828,236.381 -79.883,320.702c-29.137,63.033 -92.165,103.467 -161.607,103.675c-58.148,0.184 -129.832,0.398 -188.066,0.573c-68.886,0.206 -131.752,-39.215 -161.569,-101.314c-43.597,-90.793 -96.522,-224.663 -88.059,-325.713"}}),n("path",{attrs:{d:"M710,410.13l137.329,0c0,0 27.947,188.444 -226.001,233.406"}})]),t._v("\n    by\n    "),n("a",{staticClass:"pl-2",attrs:{rel:"noreferrer",target:"_blank",href:"https://github.com/k-flynn-webdev"}},[t._v("\n      k-flynn-webdev\n    ")]),n("small",{staticClass:"is-hidden-mobile pl-2"},[t._v("\n      alpha "+t._s(t.version)+"\n    ")])])])},L=[],_={name:"PageFooter",computed:{version:function(){return"0.1.5"}},mounted:function(){document.body.appendChild(this.$refs.footer)},beforeDestroy:function(){document.body.removeChild(this.$refs.footer),this.$refs.parent.appendChild(this.$refs.footer)}},w=_,P=Object(l["a"])(w,T,L,!1,null,null,null),y=P.exports,A={name:"app",data:function(){return{title:"Tracks"}},components:{navbar:d,logout:E,pageFooter:y},methods:{onTitle:function(t){this.title=t}}},I=A,O=Object(l["a"])(I,a,o,!1,null,null,null),C=O.exports,S=n("a18c"),j=n("4360"),x=(n("ac6a"),function(t,e){var n=new Date(t[e]),r=n.getDate(),a=n.getMonth()+1,o=n.getFullYear();return[r,a,o]}),M=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],D=function(t,e){var n=new Date(t[e]),r=n.getDate(),a=M[n.getMonth()];return[r,a]},$={name:"itemDate",filter:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return"";if(!t.created_at)return"";var a=[],o=x(t,"created_at");return e&&a.push(o[0]),n&&a.push(o[1]),r&&a.push(o[2]),a.join("/")}},V={name:"tagDate",filter:function(t){if(!t)return"";if(!t.created_at)return"";var e=D(t,"created_at");return"".concat(e[0]," ").concat(e[1])}},N=[V,$],G=function(t){N.forEach((function(e){return t.filter(e.name,e.filter)}))};n("85c3");r["a"].use(G),r["a"].config.productionTip=!1,new r["a"]({router:S["a"],store:j["a"],render:function(t){return t(C)}}).$mount("#app")},"5a50":function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return d}));n("28a5");var r={name:"Daytrack",pageLimit:20,sort:{direction:[{name:"asc",value:1},{name:"desc",value:-1}],types:[{name:"created",value:"created_at"},{name:"updated",value:"updated_at"},{name:"done",value:"done_at"}]},userLocal:"user-local"},a={value:"csrf",API:{GET:"/api/csrf/"}};function o(t){return t&&t.split("@").length>1&&t.split(".").length>1}function i(t){return t&&t.length>=8}var u={value:"login",route:{name:"login",path:"/login"},API:{POST:"/rest-auth/register/"},isValid:function(t){return t&&t.email&&t.password&&o(t.email)&&i(t.password)}},s={value:"login",route:{name:"login",path:"/login"},API:{POST:"/rest-auth/login/"},isValid:function(t){return t&&t.email&&t.password&&o(t.email)&&i(t.password)}},c={value:"logout",route:{name:"logout",path:"/logout"},API:{DELETE:"/rest-auth/logout/"}},l={value:"user",store:"user",route:{name:"user",path:"/user"},API:{GET:"/rest-auth/user/"}},f={value:"track",store:"track",route:{name:"track",path:"/track"},API:{GET:"/api/track/",POST:"/api/track/",PATCH:"/api/track/",DELETE:"/api/track/"},isValid:function(t){return t&&t.track&&t.track.length>=5},default:function(){return{id:-1,user:-1,value:"",tags:[],created_at:"",updated_at:""}}},d={value:"tag",store:"tag",route:{name:"tag",path:"/tag"},API:{GET:"/api/tag/",POST:"/api/tag/",PATCH:"/api/tag/",DELETE:"/api/tag/"},isValid:function(t){return t&&t.value&&t.value.length>=3},default:function(){return{id:-1,user:-1,value:"",created_at:""}}}},"85c3":function(t,e,n){},a18c:function(t,e,n){"use strict";var r=n("2b0e"),a=n("8c4f"),o=n("4360"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-11"},[t._v("\n  Enjoy, please sign up\n")])},u=[],s={name:"home"},c=s,l=n("2877"),f=Object(l["a"])(c,i,u,!1,null,null,null),d=f.exports,m=function(){return o["a"].state.user.isLoggedIn};r["a"].use(a["a"]);var g=[{path:"/",name:"home",meta:{title:"Mini-Tracks"},beforeEnter:function(t,e,n){m()&&n({name:"track"}),n()},component:d},{path:"/register",name:"register",meta:{title:"Register"},component:function(){return n.e("register").then(n.bind(null,"7803"))}},{path:"/login",name:"login",meta:{title:"Login"},component:function(){return n.e("login").then(n.bind(null,"dd7b"))}},{path:"/track",name:"track",meta:{title:"Mini-Tracks"},beforeEnter:function(t,e,n){m()||n({name:"home"}),n()},component:function(){return n.e("trackListView").then(n.bind(null,"a5aa"))}},{path:"/tag",name:"tag-list",meta:{title:"Mini-Tags"},beforeEnter:function(t,e,n){m()||n({name:"home"}),n()},component:function(){return n.e("tagListView").then(n.bind(null,"d5fe"))}},{path:"/tag/:tag",name:"tag",props:!0,meta:{title:"Mini-Tag"},beforeEnter:function(t,e,n){m()||n({name:"home"}),n()},component:function(){return n.e("tag").then(n.bind(null,"5223"))}}],p=new a["a"]({mode:"history",base:"/",routes:g});e["a"]=p},c0dc:function(t,e,n){"use strict";var r=n("a18c"),a=n("bc3a"),o=n.n(a),i=n("4328"),u=n.n(i);function s(){}function c(t){}function l(){}function f(t){return t}function d(t){throw 401===t.response.status&&"Unauthorized"===t.response.statusText&&(l(),setTimeout((function(){r["a"].push({name:"login"})}),500)),t}function m(t,e){return o.a.get(t,e)}function g(t,e){return o.a.post(t,e)}function p(t,e){return o.a.put(t,e)}function h(t,e){return o.a.patch(t,e)}function v(t,e){return o.a.delete(t,e)}o.a.defaults.headers.common["Accept-Version"]="v1",o.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",o.a.defaults.xsrfHeaderName="X-CSRFToken",o.a.defaults.xsrfCookieName="csrftoken",o.a.defaults.paramsSerializer=function(t){return u.a.stringify(t,{encode:!1})},o.a.interceptors.response.use(f,d);var b={get:m,post:g,put:p,patch:h,remove:v,authSet:c,authRemove:l,getToken:s};e["a"]=b}});
//# sourceMappingURL=app.936ca382.js.map