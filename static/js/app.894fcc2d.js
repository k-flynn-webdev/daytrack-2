(function(t){function e(e){for(var r,o,s=e[0],u=e[1],c=e[2],l=0,m=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function o(t){return s.p+"static/js/"+({login:"login",register:"register",tag:"tag",tagListView:"tagListView",trackListView:"trackListView"}[t]||t)+"."+{login:"59959c9b",register:"ee4091a7",tag:"9ad0b770",tagListView:"66a5aef1",trackListView:"f87162fc"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=o(t);var c=new Error;i=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}a[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4360:function(t,e,n){"use strict";var r=n("2b0e"),a=n("2f62"),i=(n("28a5"),n("768b")),o=(n("ffc1"),n("ac6a"),n("5a50")),s=n("c0dc");function u(){return localStorage.getItem(o["h"].userLocal)}function c(t){t?localStorage.setItem(o["h"].userLocal,JSON.stringify(t)):l()}function l(){localStorage.removeItem(o["h"].userLocal)}var f={get:u,save:c,remove:l},m=12,d=function(){return{id:-1,email:null,name:"",first_name:null,last_name:null}};function g(){var t=f.get(),e=t?JSON.parse(t):d();return{user:e,isLoggedIn:!!e.email}}var p={login:function(t,e){t.isLoggedIn=!0,p.set(t,e)},logout:function(t){t.isLoggedIn=!1,p.set(t)},set:function(t,e){if(e){if(Object.entries(e).forEach((function(e){var n=Object(i["a"])(e,2),a=n[0],o=n[1];r["a"].set(t.user,a,o)})),e.email){var n=e.email.split("@")[0];n=n.length<m?n:n.slice(0,m-2)+"..",r["a"].set(t.user,"name",n)}f.save(t.user)}else f.remove()}},h={register:function(t,e){return s["a"].post(o["d"].API.POST,e).then((function(e){var n=e.data;return t.commit("login",n.results),n.results}))},login:function(t,e){return s["a"].post(o["b"].API.POST,e).then((function(e){var n=e.data;return t.commit("login",n.results),n.results}))},logout:function(t){return s["a"].remove(o["c"].API.DELETE).then((function(){return t.commit("logout",null),"blaaa"}))},get:function(t){return s["a"].get(o["g"].API.GET).then((function(e){var n=e.data;return t.commit("set",n.results),n.results}))},patch:function(t,e){return s["a"].patch("".concat(o["g"].API.PATCH,"/").concat(e.id),e).then((function(e){var n=e.data;t.commit("set",n.results)}))},remove:function(t){return s["a"].remove("".concat(o["g"].API.DELETE,"/").concat(t.state.user.id))}},v={namespaced:!0,state:g(),mutations:p,actions:h};function b(){return{trackList:[]}}var w={set:function(t,e){r["a"].set(t,"trackList",e)},post:function(t,e){t.trackList.unshift(e)},patch:function(t,e){for(var n=0;n<t.trackList.length;n++)if(t.trackList[n].id===e.id)return void r["a"].set(t.trackList,n,e)},remove:function(t,e){for(var n=0;n<t.trackList.length;n++)if(t.trackList[n].id===e.id)return void r["a"].delete(t.trackList,n)}},k={post:function(t,e){return s["a"].post(o["f"].API.POST,e).then((function(e){var n=e.data;return t.commit("post",n.results),n.results}))},patch:function(t,e){return s["a"].patch("".concat(o["f"].API.PATCH,"/").concat(e.id),e).then((function(e){var n=e.data;return t.commit("patch",n.results),n.results}))},remove:function(t,e){return s["a"].remove("".concat(o["f"].API.DELETE,"/").concat(e.id)).then((function(){return t.commit("remove",e),e}))},get:function(t,e){return s["a"].get(o["f"].API.GET,e).then((function(e){var n=e.data;return t.commit("set",n.results),n.results}))},getById:function(t,e){return s["a"].get("".concat(o["f"].API.GET,"/").concat(e.id)).then((function(t){var e=t.data;return e.results}))}},y={namespaced:!0,state:b(),mutations:w,actions:k};r["a"].use(a["a"]);var _={},E={};e["a"]=new a["a"].Store({state:{},getters:E,mutations:_,modules:{user:v,track:y}})},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mini-track p-1",attrs:{id:"app"}},[n("message"),n("section",{staticClass:"container"},[n("div",{staticClass:"level is-mobile mb-3"},[n("router-link",{staticClass:"title has-text-white level-item",attrs:{to:{name:"home"}}},[t._v("\n        "+t._s(t.$route.meta.title)+"\n      ")]),n("logout",{staticClass:"level-right"})],1),n("div",{staticClass:"columns is-centered"},[n("router-view")],1)]),n("page-footer")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t.isLoggedIn?n("div",[n("span",{staticClass:"mr-2"},[t._v(t._s(t.userName))]),n("button",{staticClass:"button is-success is-smaller",on:{click:t.submit}},[n("svg",{staticClass:"icon close",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("path",{attrs:{d:"M100,68.887l50.205,-50.204l31.112,31.112l-50.204,50.205l50.204,50.205l-31.112,31.112l-50.205,-50.204l-50.205,50.204l-31.112,-31.112l50.204,-50.205l-50.204,-50.205l31.112,-31.112l50.205,50.204Z"}})])])]):n("router-link",{attrs:{to:{name:"login"}}},[t._v("\n    Login\n  ")])],1)},s=[],u=(n("7f7f"),n("5a50")),c=n("c0dc"),l=n("8fbf"),f={name:"Logout",mixins:[l["a"]],data:function(){return{loading:!1}},created:function(){return this.getToken()},computed:{userName:function(){return this.$store.state[u["g"].store].user.name},isLoggedIn:function(){return this.$store.state[u["g"].store].isLoggedIn}},methods:{getToken:function(){return c["a"].get(u["a"].API.GET)},submit:function(){var t=this;if(!this.loading)return this.loading=!0,this.$store.dispatch("user/logout").then((function(){t.$router.push({name:"home"})})).catch((function(e){return t.handleError(e)})).finally((function(){return t.loading=!1}))}}},m=f,d=n("2877"),g=Object(d["a"])(m,o,s,!1,null,null,null),p=g.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"parent"},[n("div",{ref:"footer",staticClass:"is-flex has-text-white is-justify-content-center is-align-items-center",attrs:{id:"footer"}},[t._v("\n    Made with\n    "),n("svg",{staticClass:"px-2 icon med has-fill-white",attrs:{viewBox:"0 0 907 828"}},[n("path",{attrs:{d:"M730.084,312.85c4.226,113.133 -40.828,236.381 -79.883,320.702c-29.137,63.033 -92.165,103.467 -161.607,103.675c-58.148,0.184 -129.832,0.398 -188.066,0.573c-68.886,0.206 -131.752,-39.215 -161.569,-101.314c-43.597,-90.793 -96.522,-224.663 -88.059,-325.713"}}),n("path",{attrs:{d:"M710,410.13l137.329,0c0,0 27.947,188.444 -226.001,233.406"}})]),t._v("\n    by\n    "),n("a",{staticClass:"pl-2",attrs:{rel:"noreferrer",target:"_blank",href:"https://github.com/k-flynn-webdev"}},[t._v("\n      k-flynn-webdev\n    ")]),n("small",{staticClass:"is-hidden-mobile pl-2"},[t._v("\n      alpha "+t._s(t.version)+"\n    ")])])])},v=[],b={name:"PageFooter",computed:{version:function(){return"0.2.75"}},mounted:function(){document.body.appendChild(this.$refs.footer)},beforeDestroy:function(){document.body.removeChild(this.$refs.footer),this.$refs.parent.appendChild(this.$refs.footer)}},w=b,k=Object(d["a"])(w,h,v,!1,null,null,null),y=k.exports,_={name:"app",data:function(){return{title:"Tracks"}},components:{logout:p,pageFooter:y},methods:{onTitle:function(t){this.title=t}}},E=_,T=Object(d["a"])(E,a,i,!1,null,null,null),L=T.exports,P=n("a18c"),C=n("4360"),x=(n("ac6a"),function(t,e){var n=new Date(t[e]),r=n.getDate(),a=n.getMonth()+1,i=n.getFullYear();return[r,a,i]}),A=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],O=function(t,e){var n=new Date(t[e]),r=n.getDate(),a=A[n.getMonth()];return[r,a]},I={name:"itemDate",filter:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return"";if(!t.created_at)return"";var a=[],i=x(t,"created_at");return e&&a.push(i[0]),n&&a.push(i[1]),r&&a.push(i[2]),a.join("/")}},$={name:"tagDate",filter:function(t){if(!t)return"";if(!t.created_at)return"";var e=O(t,"created_at");return"".concat(e[0]," ").concat(e[1])}},j=[$,I],S=function(t){j.forEach((function(e){return t.filter(e.name,e.filter)}))},D=(n("f4ff"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"message-holder",staticClass:"mini-track messages"},t._l(t.items,(function(e){return n("div",{key:e.id,staticClass:"mb-2"},[n("div",{staticClass:"message",class:e.class},[n("div",{staticClass:"message__row"},[n("div",{staticClass:"message__row-content"},[t._v(t._s(e.message))]),e.closeable?n("div",{staticClass:"message__row-button is-clickable",on:{click:function(n){return t.$message.remove(e)}}},[n("svg",{staticClass:"icon close",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[n("path",{attrs:{d:"M100,68.887l50.205,-50.204l31.112,31.112l-50.204,50.205l50.204,50.205l-31.112,31.112l-50.205,-50.204l-50.205,50.204l-31.112,-31.112l50.204,-50.205l-50.204,-50.205l31.112,-31.112l50.205,50.204Z"}})])]):t._e()])])])})),0)}),M=[],V={name:"message",data:function(){return{items:[]}},computed:{messages:function(){return this.$message.items}},mounted:function(){this.$message.register(this.items),document.body.prepend(this.$el)},beforeDestroy:function(){this.$message.unregister(this.items),document.body.removeChild(this.$el)}},G=V,N=Object(d["a"])(G,D,M,!1,null,null,null),J=N.exports,R={items:[]},H=function(t){for(var e=0,n=0;n<t.length;++n)e=Math.imul(31,e)+t.charCodeAt(n)|0;return e},B=function(t){t.id=H(t.message),t.closeable=t.closeable||!0;for(var e=0;e<R.items.length;e++)if(R.items[e].id===t.id)return;R.items.push(t),t.timeDisplay>0&&setTimeout((function(){q(t)}),1e3*t.timeDisplay)},F=function(t){if(t.timeDelay>0){var e=t.timeDelay;return t.timeDelay=0,U(t,e)}B(t)},U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setTimeout((function(){F(t)}),1e3*e+50)},q=function(t){for(var e=0,n=R.items.length;e<n;e++)if(R.items[e].id===t.id)return void R.items.splice(e,1)},X={install:function(t,e){t.component("message",J),t.prototype.$message=R,t.prototype.$message.add=F,t.prototype.$message.remove=q,t.prototype.$message.register=function(t){R.items=t},t.prototype.$message.unregister=function(t){R.items=[]}}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(X);var z=X;n("85c3");r["a"].use(S),r["a"].use(z),r["a"].use(l["b"]),r["a"].config.productionTip=!1,new r["a"]({router:P["a"],store:C["a"],render:function(t){return t(L)}}).$mount("#app")},"5a50":function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return m}));n("28a5");var r={name:"Minitrack",pageLimit:20,sort:{direction:[{name:"asc",value:1},{name:"desc",value:-1}],types:[{name:"created",value:"created_at"},{name:"updated",value:"updated_at"},{name:"done",value:"done_at"}]},userLocal:"user-local"},a={value:"csrf",API:{GET:"/api/csrf"}};function i(t){return t&&t.split("@").length>1&&t.split(".").length>1}function o(t){return t&&t.length>=8}var s={value:"login",route:{name:"login",path:"/login"},API:{POST:"/rest-auth/register"},isValid:function(t){return t&&t.email&&t.password&&i(t.email)&&o(t.password)}},u={value:"login",route:{name:"login",path:"/login"},API:{POST:"/rest-auth/login"},isValid:function(t){return t&&t.email&&t.password&&i(t.email)&&o(t.password)}},c={value:"logout",route:{name:"logout",path:"/logout"},API:{DELETE:"/rest-auth/logout"}},l={value:"user",store:"user",route:{name:"user",path:"/user"},API:{GET:"/rest-auth/user"}},f={value:"track",store:"track",route:{name:"track",path:"/track"},API:{GET:"/api/track",POST:"/api/track",PATCH:"/api/track",DELETE:"/api/track"},isValid:function(t){return t&&t.track&&t.track.length>=5},default:function(){return{id:-1,user:-1,value:"",tags:[],created_at:"",updated_at:""}}},m={value:"tag",store:"tag",route:{name:"tag",path:"/tag"},API:{GET:"/api/tag",POST:"/api/tag",PATCH:"/api/tag",DELETE:"/api/tag"},isValid:function(t){return t&&t.value&&t.value.length>=3},default:function(){return{id:-1,user:-1,value:"",created_at:""}}}},"85c3":function(t,e,n){},"8fbf":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n("ec41"),a={methods:{handleError:function(t){throw this.$message.add({message:Object(r["a"])(t,"response.data",t.message),class:"is-error"}),t}}},i={install:function(t,e){t.$handleErr=function(e){throw t.$message.add({message:Object(r["a"])(e,"response.data",e.message),class:"is-error"}),e}}}},a18c:function(t,e,n){"use strict";var r=n("2b0e"),a=n("8c4f"),i=n("4360"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-11"},[t._v("\n  Enjoy, please sign up\n")])},s=[],u={name:"home"},c=u,l=n("2877"),f=Object(l["a"])(c,o,s,!1,null,null,null),m=f.exports,d=function(){return i["a"].state.user.isLoggedIn};r["a"].use(a["a"]);var g=[{path:"/",name:"home",meta:{title:"Mini-Tracks"},beforeEnter:function(t,e,n){d()&&n({name:"track"}),n()},component:m},{path:"/register",name:"register",meta:{title:"Register"},component:function(){return n.e("register").then(n.bind(null,"7803"))}},{path:"/login",name:"login",meta:{title:"Login"},component:function(){return n.e("login").then(n.bind(null,"dd7b"))}},{path:"/track",name:"track",meta:{title:"Mini-Tracks"},beforeEnter:function(t,e,n){d()||n({name:"home"}),n()},component:function(){return n.e("trackListView").then(n.bind(null,"a5aa"))}},{path:"/tag",name:"tag-list",meta:{title:"Mini-Tags"},beforeEnter:function(t,e,n){d()||n({name:"home"}),n()},component:function(){return n.e("tagListView").then(n.bind(null,"d5fe"))}},{path:"/tag/:tag",name:"tag",props:!0,meta:{title:"Mini-Tag"},beforeEnter:function(t,e,n){d()||n({name:"home"}),n()},component:function(){return n.e("tag").then(n.bind(null,"5223"))}}],p=new a["a"]({mode:"history",base:"/",routes:g});e["a"]=p},c0dc:function(t,e,n){"use strict";var r=n("a18c"),a=n("4360"),i=n("bc3a"),o=n.n(i),s=n("4328"),u=n.n(s);function c(){}function l(t){}function f(){var t=this;return a["a"].dispatch("user/logout").then((function(){t.$router.push({name:"home"})}))}function m(t){return t}function d(t){throw 401===t.response.status&&"Unauthorized"===t.response.statusText&&(f(),setTimeout((function(){r["a"].push({name:"login"})}),500)),t}function g(t,e){return o.a.get(t,e)}function p(t,e){return o.a.post(t,e)}function h(t,e){return o.a.put(t,e)}function v(t,e){return o.a.patch(t,e)}function b(t,e){return o.a.delete(t,e)}o.a.defaults.headers.common["Accept-Version"]="v1",o.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",o.a.defaults.xsrfHeaderName="X-CSRFToken",o.a.defaults.xsrfCookieName="csrftoken",o.a.defaults.paramsSerializer=function(t){return u.a.stringify(t,{encode:!1})},o.a.interceptors.response.use(m,d);var w={get:g,post:p,put:h,patch:v,remove:b,authSet:l,authRemove:f,getToken:c};e["a"]=w}});
//# sourceMappingURL=app.894fcc2d.js.map